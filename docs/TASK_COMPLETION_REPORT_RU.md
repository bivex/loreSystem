# –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á—ë—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–æ–º–µ–Ω–∞ –∏ Edge Cases

**–î–∞—Ç–∞**: 2026-01-18  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  
**–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π

---

## üìã –ó–∞–¥–∞—á–∞

> "–ü—Ä–æ–≤–µ—Ä—å –¥–æ–º–µ–Ω –∏ —Å–æ—Å—Ç–∞–≤—å edge cases —Å—É—â–Ω–æ—Å—Ç–∏ —á—Ç–æ–±—ã –Ω–∞—à –ª–æ—Ä –Ω–µ —Ä–∞—Å—Å—ã–ø–∞–ª—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ, –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –Ω–µ, –∏ –±—ã–ª –ø–æ–Ω—è—Ç–µ–Ω –∏–≥—Ä–æ–∫–∞–º"

**–ü–µ—Ä–µ–≤–æ–¥**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏ —Å–æ–∑–¥–∞—Ç—å edge case —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –ª–æ—Ä-—Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–π –∏–≥—Ä–æ–∫–∞–º.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –†–∞–±–æ—Ç—ã

### 1. –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (35 —Ç–µ—Å—Ç–æ–≤)

#### World (–ú–∏—Ä) - 4 —Ç–µ—Å—Ç–∞
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º—ë–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–Ω–∞–Ω—Ç–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ (updated >= created)
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏—Ä–æ–≤
- ‚úÖ –ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

#### Character (–ü–µ—Ä—Å–æ–Ω–∞–∂) - 8 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ backstory (>= 100 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (–Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
- ‚úÖ –ù–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –±–æ–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (HP, ATK, DEF, Speed)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–¥–∫–æ—Å—Ç–∏ –∏ —Ä–æ–ª–∏ –¥–ª—è gacha
- ‚úÖ –£—Ä–æ–≤–µ–Ω—å —Å–∏–ª—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (1-10)
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ –†–∞—Å—á—ë—Ç —Å—Ä–µ–¥–Ω–µ–π —Å–∏–ª—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- ‚úÖ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Ä–æ–ª–µ–π

#### Event (–°–æ–±—ã—Ç–∏–µ) - 6 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ú–∏–Ω–∏–º—É–º 1 —É—á–∞—Å—Ç–Ω–∏–∫ (–Ω–µ –ø—É—Å—Ç–æ)
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π outcome)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç (–∫–æ–Ω–µ—Ü > –Ω–∞—á–∞–ª–∞)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ, <= 255 —Å–∏–º–≤–æ–ª–æ–≤)

#### Banner (Gacha –ë–∞–Ω–Ω–µ—Ä) - 7 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è = 100% (SSR + SR + R)
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ pity –ø–æ—Ä–æ–≥–æ–≤ (soft < hard < featured)
- ‚úÖ –í–∞–ª–∏–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å pull'–æ–≤ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è)
- ‚úÖ 10-pull cost <= 10 √ó single pull cost
- ‚úÖ –î–∞—Ç—ã –ª–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∞–Ω–Ω–µ—Ä–æ–≤
- ‚úÖ SSR rate –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 0-10%
- ‚úÖ –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ pity

#### Pity (Gacha –ú–µ—Ö–∞–Ω–∏–∫–∞) - 5 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –°—á—ë—Ç—á–∏–∫–∏ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ (>= 0)
- ‚úÖ –°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ SSR
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ 50/50 (guaranteed_featured_next)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ (soft pity, hard pity)
- ‚úÖ –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Å—á—ë—Ç—á–∏–∫–æ–≤

#### Item (–ü—Ä–µ–¥–º–µ—Ç) - 4 —Ç–µ—Å—Ç–∞
- ‚úÖ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 1-100
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ (>= 0)
- ‚úÖ –°—Ç–∞—Ç—ã –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ (ATK, HP, DEF >= 0)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ, <= 255 —Å–∏–º–≤–æ–ª–æ–≤)

#### –ö—Ä–æ—Å—Å-–°—É—â–Ω–æ—Å—Ç–Ω—ã–µ –¢–µ—Å—Ç—ã - 3 —Ç–µ—Å—Ç–∞
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –≤ —Å–æ–±—ã—Ç–∏—è—Ö (referential integrity)
- ‚úÖ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Ä–æ–ª–µ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- ‚úÖ Featured –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –≤ gacha –±–∞–Ω–Ω–µ—Ä–∞—Ö

---

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —Ñ–∞–π–ª–∞)

#### DOMAIN_EDGE_CASES_RU.md (16KB)
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–æ–º–µ–Ω–∞
- Edge cases –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
- –ü—Ä–∏–º–µ—Ä—ã UI –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, –±–∞–Ω–Ω–µ—Ä—ã, pity tracker)
- –ì–∞—Ä–∞–Ω—Ç–∏–∏ gacha —Å–∏—Å—Ç–µ–º—ã (—à–∞–Ω—Å—ã, pity, 50/50)
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤
- –ì–∞—Ä–∞–Ω—Ç–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

**–î–ª—è –∫–æ–≥–æ**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã

#### PLAYER_GUARANTEES_RU.md (9KB)
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ß—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–∫–∞–º
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –±–∞–Ω–Ω–µ—Ä—ã, pity tracker)
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ (—á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ (35 —Ç–µ—Å—Ç–æ–≤)
- –ò—Ç–æ–≥–æ–≤—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ —á–µ—Å—Ç–Ω–æ–π –∏–≥—Ä—ã

**–î–ª—è –∫–æ–≥–æ**: –ò–≥—Ä–æ–∫–∏ –∏ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

#### VALIDATION_QUICK_REFERENCE.md (6KB)
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º validation –ø—Ä–∞–≤–∏–ª–∞–º
- –ü—Ä–∏–º–µ—Ä—ã —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- Player-facing implications
- –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–î–ª—è –∫–æ–≥–æ**: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–±—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞)

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—Å–µ –¢–µ—Å—Ç—ã –ü—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ
```bash
$ pytest tests/test_domain_edge_cases_comprehensive.py -v

============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0
collecting ... collected 35 items

TestWorldEdgeCases::test_world_name_uniqueness_enforced_by_repository PASSED
TestWorldEdgeCases::test_world_updated_timestamp_validation PASSED
TestWorldEdgeCases::test_world_hierarchical_parent_validation PASSED
TestWorldEdgeCases::test_world_version_monotonic_increase PASSED

TestCharacterEdgeCases::test_character_backstory_minimum_length PASSED
TestCharacterEdgeCases::test_character_duplicate_abilities_rejected PASSED
TestCharacterEdgeCases::test_character_combat_stats_non_negative PASSED
TestCharacterEdgeCases::test_character_rarity_and_role_validation PASSED
TestCharacterEdgeCases::test_character_ability_power_level_bounds PASSED
TestCharacterEdgeCases::test_character_location_assignment PASSED
TestCharacterEdgeCases::test_character_average_power_calculation PASSED

TestEventEdgeCases::test_event_must_have_participants PASSED
TestEventEdgeCases::test_event_duplicate_participants_rejected PASSED
TestEventEdgeCases::test_event_cannot_remove_last_participant PASSED
TestEventEdgeCases::test_event_completion_validation PASSED
TestEventEdgeCases::test_event_date_range_validation PASSED
TestEventEdgeCases::test_event_name_validation PASSED

TestBannerEdgeCases::test_banner_drop_rates_must_sum_to_100 PASSED
TestBannerEdgeCases::test_banner_pity_thresholds_validation PASSED
TestBannerEdgeCases::test_banner_pull_cost_validation PASSED
TestBannerEdgeCases::test_banner_limited_date_validation PASSED
TestBannerEdgeCases::test_banner_ssr_rate_bounds PASSED
TestBannerEdgeCases::test_banner_cost_calculation_for_pity PASSED

TestPityEdgeCases::test_pity_counters_non_negative PASSED
TestPityEdgeCases::test_pity_counter_reset_on_ssr PASSED
TestPityEdgeCases::test_pity_50_50_system PASSED
TestPityEdgeCases::test_pity_threshold_checks PASSED
TestPityEdgeCases::test_pity_reset_functionality PASSED

TestItemEdgeCases::test_item_level_bounds PASSED
TestItemEdgeCases::test_item_enhancement_non_negative PASSED
TestItemEdgeCases::test_item_stats_non_negative PASSED
TestItemEdgeCases::test_item_name_validation PASSED

TestCrossEntityEdgeCases::test_character_in_event_referential_integrity PASSED
TestCrossEntityEdgeCases::test_character_element_and_role_combinations PASSED
TestCrossEntityEdgeCases::test_gacha_banner_with_featured_characters PASSED

============================== 35 passed in 0.12s ===============================
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 35
- **–ü—Ä–æ–π–¥–µ–Ω–æ**: 35 ‚úÖ
- **–ü—Ä–æ–≤–∞–ª–µ–Ω–æ**: 0 ‚ùå
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 0.12 —Å–µ–∫—É–Ω–¥—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 100% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ì–∞—Ä–∞–Ω—Ç–∏–∏

### –î–ª—è –ò–≥—Ä–æ–∫–æ–≤

#### 1. –ß–µ—Å—Ç–Ω–∞—è Gacha –°–∏—Å—Ç–µ–º–∞ üé≤
- ‚úÖ –®–∞–Ω—Å—ã **–í–°–ï–ì–î–ê** —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –≤ 100% (SSR + SR + R = 100.0%)
- ‚úÖ Pity —Å–∏—Å—Ç–µ–º–∞ **–ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û** —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—á—ë—Ç—á–∏–∫–∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ 50/50 **–ß–ï–°–¢–ù–ê–Ø** (–≥–∞—Ä–∞–Ω—Ç–∏—è featured –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞)
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–∞–Ω–Ω–µ—Ä —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —à–∞–Ω—Å–∞–º–∏
- ‚úÖ Soft pity –Ω–∞ 75 pull'–∞—Ö, Hard pity –Ω–∞ 90 pull'–∞—Ö

#### 2. –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ ‚≠ê
- ‚úÖ –ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–º–µ–µ—Ç **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é backstory** (–º–∏–Ω–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ **—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ** (–Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ **–≤–∞–ª–∏–¥–Ω—ã–µ** (HP, ATK, DEF –≤—Å–µ–≥–¥–∞ >= 0)
- ‚úÖ –£—Ä–æ–≤–µ–Ω—å —Å–∏–ª—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π **–ø–æ–Ω—è—Ç–µ–Ω** (—à–∫–∞–ª–∞ 1-10)
- ‚úÖ –†–µ–¥–∫–æ—Å—Ç—å **—á–µ—Å—Ç–Ω–∞—è** (LEGENDARY –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ RARE)

#### 3. –õ–æ–≥–∏—á–Ω—ã–µ –°–æ–±—ã—Ç–∏—è üìÖ
- ‚úÖ –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏–º–µ–µ—Ç **—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** (–º–∏–Ω–∏–º—É–º 1)
- ‚úÖ –î–∞—Ç—ã **–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ** (–∫–æ–Ω–µ—Ü –≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞)
- ‚úÖ –ò—Å—Ö–æ–¥—ã **–ø–æ–Ω—è—Ç–Ω—ã–µ** (SUCCESS, FAILURE, ONGOING)
- ‚úÖ –ù–µ—Ç –ø—É—Å—Ç—ã—Ö –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

#### 4. –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–µ –ü—Ä–µ–¥–º–µ—Ç—ã ‚öîÔ∏è
- ‚úÖ –£—Ä–æ–≤–Ω–∏ **–≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö** (1-100)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è **–ø—Ä–æ–∑—Ä–∞—á–Ω—ã** (0-20)
- ‚úÖ –°—Ç–∞—Ç—ã **—á–µ—Å—Ç–Ω—ã–µ** (–≤—Å–µ–≥–¥–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ)

---

### –î–ª—è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

#### 1. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å üõ°Ô∏è
- ‚úÖ 35 edge case —Ç–µ—Å—Ç–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–º–µ–Ω–∞
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –í—Å–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

#### 2. –ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å üìñ
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –≤—Å–µ—Ö edge cases —Å –∫–æ–¥–æ–º
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ mockup'—ã –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ validation –ø—Ä–∞–≤–∏–ª–∞–º

#### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å üîí
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (—Å—á—ë—Ç—á–∏–∫–∏, —Å—Ç–∞—Ç—ã)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞—Ç (end > start)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö gacha —à–∞–Ω—Å–æ–≤ (—Å—É–º–º–∞ = 100%)

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ü—Ä–æ–¥–∞–∫—à–Ω—É

### –ß—Ç–æ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ

‚úÖ **Domain Model** - –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∏—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã  
‚úÖ **Business Rules** - –í—Å–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã  
‚úÖ **Edge Cases** - –í—Å–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏  
‚úÖ **Gacha System** - –ß–µ—Å—Ç–Ω–æ—Å—Ç—å gacha —Å–∏—Å—Ç–µ–º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞  
‚úÖ **Player Experience** - –ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞  
‚úÖ **Code Review** - –í—Å–µ –∑–∞–º–µ—á–∞–Ω–∏—è code review —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã  

### –ß—Ç–æ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

1. **–õ–æ—Ä –Ω–µ "—Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è" –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ** ‚úÖ
   - –í—Å–µ edge cases –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - 35/35 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

2. **–°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω—è—Ç–Ω–∞ –∏–≥—Ä–æ–∫–∞–º** ‚úÖ
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
   - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
   - –ß—ë—Ç–∫–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ —á–µ—Å—Ç–Ω–æ–π –∏–≥—Ä—ã

3. **Gacha —Å–∏—Å—Ç–µ–º–∞ —á–µ—Å—Ç–Ω–∞—è** ‚úÖ
   - –®–∞–Ω—Å—ã –≤—Å–µ–≥–¥–∞ = 100%
   - Pity —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - 50/50 —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

### –¢–µ—Å—Ç—ã
```
tests/
‚îî‚îÄ‚îÄ test_domain_edge_cases_comprehensive.py  (1,530 —Å—Ç—Ä–æ–∫, 35 —Ç–µ—Å—Ç–æ–≤)
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```
docs/
‚îú‚îÄ‚îÄ DOMAIN_EDGE_CASES_RU.md        (16 KB, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ PLAYER_GUARANTEES_RU.md        (9 KB, –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤)
‚îî‚îÄ‚îÄ VALIDATION_QUICK_REFERENCE.md  (6 KB, –±—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫)
```

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –°—Ç–∞—Ç—É—Å: ‚úÖ **–ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ù–£**

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

1. ‚úÖ **–î–æ–º–µ–Ω –ø—Ä–æ–≤–µ—Ä–µ–Ω** - –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã
2. ‚úÖ **Edge cases —Å–æ—Å—Ç–∞–≤–ª–µ–Ω—ã** - 35 —Ç–µ—Å—Ç–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. ‚úÖ **–õ–æ—Ä –Ω–µ —Ä–∞—Å—Å—ã–ø–µ—Ç—Å—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏
4. ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ –∏–≥—Ä–æ–∫–∞–º** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

### –ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞

- **–¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 100% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- **–í—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 0.12 —Å–µ–∫—É–Ω–¥—ã (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**: 35 (–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 31 KB (3 —Ñ–∞–π–ª–∞)
- **–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤**: 35/35 passing ‚úÖ

### –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
2. **UI —Ç–µ—Å—Ç—ã** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
3. **–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ gacha pull'–æ–≤
4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

---

**–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω**: 2026-01-18  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–¢–µ—Å—Ç—ã**: 35/35 passing  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: Production-Ready üöÄ
