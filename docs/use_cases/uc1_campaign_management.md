# Use Case 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—é–∂–µ—Ç–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–µ–π

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç–≤–ª—è—é—â–µ–π—Å—è —Å—é–∂–µ—Ç–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–µ–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ü–æ–≤–∫–∞–º–∏, –∑–∞–≤–∏—Å—è—â–∏–º–∏ –æ—Ç –≤—ã–±–æ—Ä–æ–≤ –∏–≥—Ä–æ–∫–æ–≤.

## –ê–∫—ë—Ä—ã
- **Narrative Designer**: –°–æ–∑–¥–∞—ë—Ç —Å—é–∂–µ—Ç, –¥–∏–∞–ª–æ–≥–∏, —Ä–∞–∑–≤—è–∑–∫–∏
- **Quest Designer**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –∫–∞–º–ø–∞–Ω–∏—é –≤ —Å–∏—Å—Ç–µ–º—É –∫–≤–µ—Å—Ç–æ–≤
- **Writer**: –ü–∏—à–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –∏ –ª–æ—Ä-—Ç–µ–∫—Å—Ç—ã
- **Sound Designer**: –î–æ–±–∞–≤–ª—è–µ—Ç –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã –∏ –æ–∑–≤—É—á–∫—É

## –°—Ü–µ–Ω–∞—Ä–∏–π
–ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω–µ—Ä —Ö–æ—á–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é "War of Three Kingdoms" –¥–ª—è RPG-–∏–≥—Ä—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ü–æ–≤–∫–∞–º–∏:
1. **Good Ending**: –ò–≥—Ä–æ–∫ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ç—Ä–∏ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞
2. **Evil Ending**: –ò–≥—Ä–æ–∫ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞
3. **Neutral Ending**: –ò–≥—Ä–æ–∫ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º

## –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –ù–∞–ª–∏—á–∏–µ —Ç—Ä—ë—Ö –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤ (Kingdom entities)
- –ù–∞–ª–∏—á–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (Character entities)
- –ù–∞–ª–∏—á–∏–µ –∫–≤–µ—Å—Ç–æ–≤ (Quest entities)

## –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è
- –°—é–∂–µ—Ç–Ω—ã–µ –≤–µ—Ç–≤–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –∫–≤–µ—Å—Ç–∞–º–∏
- –ö–∞–∂–¥–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π reward
- –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ç–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤

## –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```python
from src.domain import (
    Campaign, Chapter, Episode, Act, Prologue, Epilogue,
    PlotBranch, Consequence, MoralChoice, Ending, AlternateReality,
    Campaign
)
from src.domain.value_objects import TenantId, EntityId, Description, Version

def create_war_of_three_kingdoms_campaign(tenant_id: TenantId, world_id: EntityId) -> Campaign:
    """
    –°–æ–∑–¥–∞—ë—Ç —Å—é–∂–µ—Ç–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é "War of Three Kingdoms" —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ü–æ–≤–∫–∞–º–∏.
    
    Parameters:
        tenant_id: ID —Ç–µ–Ω–∞–Ω—Ç–∞
        world_id: ID –º–∏—Ä–∞
    
    Returns:
        Campaign: –°–æ–∑–¥–∞–Ω–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è
    """
    
    # 1. –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–ª–æ–≥
    prologue = Prologue.create(
        tenant_id=tenant_id,
        world_id=world_id,
        name="Prologue: Three Kingdoms United",
        description="Long ago, three kingdoms lived in harmony...",
        is_skippable=True
    )
    
    # 2. –°–æ–∑–¥–∞—ë–º —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –≥–ª–∞–≤—ã (–ø–æ –æ–¥–Ω–æ–π –Ω–∞ –∫–∞–∂–¥–æ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ)
    chapter_1 = Chapter.create(
        tenant_id=tenant_id,
        campaign_id=prologue.id,
        name="Chapter 1: Alliance of Silver",
        type="main",
        number=1
    )
    
    chapter_2 = Chapter.create(
        tenant_id=tenant_id,
        campaign_id=prologue.id,
        name="Chapter 2: Shadow War",
        type="main",
        number=2
    )
    
    chapter_3 = Chapter.create(
        tenant_id=tenant_id,
        campaign_id=prologue.id,
        name="Chapter 3: Final Confrontation",
        type="main",
        number=3
    )
    
    # 3. –°–æ–∑–¥–∞—ë–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∞–∫—Ç (–≤—ã–±–æ—Ä –∫–æ–Ω—Ü–æ–≤–∫–∏)
    final_act = Act.create(
        tenant_id=tenant_id,
        chapter_id=chapter_3.id,
        name="Act 3: The Choice",
        description="–ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç —Å—É–¥—å–±—É —Ç—Ä—ë—Ö –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤",
        is_cinematic=True  # –≠—Ç–æ –∫–∞—Ç—Å—Ü–µ–Ω–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ü–æ–≤–∫–∏
    )
    
    # 4. –°–æ–∑–¥–∞—ë–º —Ç—Ä–∏ –∫–æ–Ω—Ü–æ–≤–∫–∏
    good_ending = Ending.create(
        tenant_id=tenant_id,
        name="Good Ending: Three Kingdoms United",
        ending_type="good",
        description="–ò–≥—Ä–æ–∫ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ç—Ä–∏ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞ –º–∏—Ä–Ω—ã–º –ø—É—Ç—ë–º",
        is_canon=False,
        rarity="common"
    )
    
    evil_ending = Ending.create(
        tenant_id=tenant_id,
        name="Evil Ending: Eternal Tyrant",
        ending_type="evil",
        description="–ò–≥—Ä–æ–∫ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞ —Å–∏–ª–æ–π",
        is_canon=False,
        rarity="rare"
    )
    
    neutral_ending = Ending.create(
        tenant_id=tenant_id,
        name="Neutral Ending: Silent Observer",
        ending_type="neutral",
        description="–ò–≥—Ä–æ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞",
        is_canon=False,
        rarity="uncommon"
    )
    
    # 5. –°–æ–∑–¥–∞—ë–º –∫–∞–º–ø–∞–Ω–∏—é
    campaign = Campaign.create(
        tenant_id=tenant_id,
        world_id=world_id,
        name="War of Three Kingdoms",
        description="–≠–ø–∏—á–µ—Å–∫–∞—è –≤–æ–π–Ω–∞ –º–µ–∂–¥—É —Ç—Ä–µ–º—è –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞–º–∏",
        campaign_type="main_story",
        difficulty="medium",
        recommended_level_range=[10, 50],
        chapters=[chapter_1.id, chapter_2.id, chapter_3.id]
    )
    
    # 6. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–µ—Ç–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ü–æ–≤–æ–∫
    plot_branch_good = PlotBranch.create(
        tenant_id=tenant_id,
        campaign_id=campaign.id,
        branch_point_id=final_act.id,
        branch_type="choice",
        description="–ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤",
        condition_id=None,
        consequences=[good_ending.id]
    )
    
    plot_branch_evil = PlotBranch.create(
        tenant_id=tenant_id,
        campaign_id=campaign.id,
        branch_point_id=final_act.id,
        branch_type="choice",
        description="–ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞—Ö–≤–∞—Ç –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤",
        condition_id=None,
        consequences=[evil_ending.id]
    )
    
    plot_branch_neutral = PlotBranch.create(
        tenant_id=tenant_id,
        campaign_id=campaign.id,
        branch_point_id=final_act.id,
        branch_type="choice",
        description="–ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–µ–π—Ç—Ä–∞–ª–∏—Ç–µ—Ç",
        condition_id=None,
        consequences=[neutral_ending.id]
    )
    
    # 7. –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫ –∫–∞–º–ø–∞–Ω–∏–∏
    campaign.add_plot_branch(plot_branch_good)
    campaign.add_plot_branch(plot_branch_evil)
    campaign.add_plot_branch(plot_branch_neutral)
    
    # 8. –î–æ–±–∞–≤–ª—è–µ–º –º–æ—Ä–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –∞–∫—Ç–µ
    moral_choice = MoralChoice.create(
        tenant_id=tenant_id,
        world_id=world_id,
        prompt="–ö–∞–∫ –≤—ã —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤?",
        description="–í—ã–±–æ—Ä –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–æ–Ω—Ü–æ–≤–∫—É –∫–∞–º–ø–∞–Ω–∏–∏",
        options=[
            {"id": "good", "text": "–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞", "alignment": "good"},
            {"id": "evil", "text": "–ó–∞—Ö–≤–∞—Ç–∏—Ç—å —Å–∏–ª–æ–π", "alignment": "evil"},
            {"id": "neutral", "text": "–û—Å—Ç–∞—Ç—å—Å—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º", "alignment": "neutral"}
        ],
        choice_alignment=MoralChoice.Neutral,
        urgency=MoralChoice.LOW,
        consequence_ids=[good_ending.id, evil_ending.id, neutral_ending.id]
    )
    
    # 9. –°–æ–∑–¥–∞—ë–º —ç–ø–∏–ª–æ–≥ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏
    good_epilogue = Epilogue.create(
        tenant_id=tenant_id,
        ending_id=good_ending.id,
        name="Epilogue: New Era",
        description="–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —ç—Ä–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞",
        display_time_minutes=5
    )
    
    evil_epilogue = Epilogue.create(
        tenant_id=tenant_id,
        ending_id=evil_ending.id,
        name="Epilogue: Tyrant's Reign",
        description="–¢—ã –ø—Ä–∞–≤–∏—à—å –º–∏—Ä–æ–º –∂–µ–ª–µ–∑–Ω–æ–π —Ä—É–∫–æ–π",
        display_time_minutes=5
    )
    
    neutral_epilogue = Epilogue.create(
        tenant_id=tenant_id,
        ending_id=neutral_ending.id,
        name="Epilogue: Silent Witness",
        description="–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—à–µ—Ç—Å—è —Ö—Ä–æ–Ω–∏–∫–∞–º–∏",
        display_time_minutes=3
    )
    
    # 10. –°–æ–µ–¥–∏–Ω—è–µ–º —ç–ø–∏–ª–æ–≥–∏ —Å –∫–æ–Ω—Ü–æ–≤–∫–∞–º–∏
    good_ending.set_epilogue_id(good_epilogue.id)
    evil_ending.set_epilogue_id(evil_epilogue.id)
    neutral_ending.set_epilogue_id(neutral_epilogue.id)
    
    return campaign

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    from src.domain.value_objects import TenantId
    
    tenant_id = TenantId("tenant_001")
    world_id = EntityId("world_001")
    
    # –°–æ–∑–¥–∞—ë–º –∫–∞–º–ø–∞–Ω–∏—é
    campaign = create_war_of_three_kingdoms_campaign(tenant_id, world_id)
    
    # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    print(f"‚úÖ –ö–∞–º–ø–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∞: {campaign.name}")
    print(f"üìö –ì–ª–∞–≤—ã: {len(campaign.chapters)}")
    print(f"üé¨ –ö–æ–Ω—Ü–æ–≤–∫–∏: {len([e for e in [good_ending, evil_ending, neutral_ending] if e.ending_type != ''])}")
    print(f"üìä –í–µ—Ç–≤–ª–µ–Ω–∏—è: {len(campaign.plot_branches)}")
    print(f"‚è±Ô∏è –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è: {campaign.estimated_playtime_hours} —á–∞—Å–æ–≤")
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
1. **Fast Track**: –°–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ –≤–µ—Ç–≤–ª–µ–Ω–∏—è (–æ–¥–Ω–∞ –∫–æ–Ω—Ü–æ–≤–∫–∞)
2. **Modular**: –°–æ–∑–¥–∞—Ç—å –∫–∞–∂–¥—É—é –≥–ª–∞–≤—É –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é
3. **Player-Driven**: –ö–æ–Ω—Ü–æ–≤–∫–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞ (Reputation entity)

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- **Quest System**: –ì–ª–∞–≤—ã –∫–∞–º–ø–∞–Ω–∏–∏ —Å–≤—è–∑–∞–Ω—ã —Å QuestChain
- **Sound System**: –ö–∞–∂–¥–∞—è –≥–ª–∞–≤–∞ –∏–º–µ–µ—Ç Theme –∏ Motif
- **Achievement System**: –ö–æ–Ω—Ü–æ–≤–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (Achievement, Trophy)

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- **Engagement Rate**: % –∏–≥—Ä–æ–∫–æ–≤, –ø—Ä–æ—à–µ–¥—à–∏—Ö –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏
- **Completion Time**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏
- **Branch Distribution**: % –∏–≥—Ä–æ–∫–æ–≤, –≤—ã–±—Ä–∞–≤—à–∏—Ö –∫–∞–∂–¥—É—é –∫–æ–Ω—Ü–æ–≤–∫—É
- **Replayability**: % –∏–≥—Ä–æ–∫–æ–≤, –ø—Ä–æ—à–µ–¥—à–∏—Ö –∫–∞–º–ø–∞–Ω–∏—é –≤—Ç–æ—Ä–æ–π —Ä–∞–∑

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–≠—Ç–æ—Ç Use Case –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AAA-–≥–µ–π–º–¥–µ–≤ –ª–æ—Ä-—Å–∏—Å—Ç–µ–º—ã:
- –°–ª–æ–∂–Ω–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ —Å—é–∂–µ—Ç–∞ —Å –º–æ—Ä–∞–ª—å–Ω—ã–º–∏ –≤—ã–±–æ—Ä–∞–º–∏
- –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ü–æ–≤–æ–∫ —Ä–∞–∑–Ω–æ–π —Ä–µ–¥–∫–æ—Å—Ç–∏
- –ö–∞—Ç—Å—Ü–µ–Ω—ã –∏ —ç–ø–∏–ª–æ–≥–∏ –¥–ª—è –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Quest, Sound –∏ Achievement —Å–∏—Å—Ç–µ–º–∞–º–∏
